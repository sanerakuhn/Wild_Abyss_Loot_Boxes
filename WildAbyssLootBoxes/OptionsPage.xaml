<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Wild_Abyss_Loot_Boxes.OptionsPage"
             NavigationPage.HasBackButton="False">

    <ContentPage.ToolbarItems>
        <ToolbarItem Text="Back" Clicked="NavigateToMain" />
    </ContentPage.ToolbarItems>

    <ScrollView>
        <Grid Padding="5" RowSpacing="20" BackgroundColor="{DynamicResource BackgroundColor}">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <StackLayout Padding="10" Spacing="5" Grid.Row="1">
                <StackLayout Orientation="Horizontal" Spacing="10">
                    <Label Text="Gold Range"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="{DynamicResource TextColor}" />
                    <ImageButton Source="{AppThemeBinding Light='info_icon_light.png', Dark='info_icon_dark.png'}"
                                 BackgroundColor="Transparent"
                                 WidthRequest="24"
                                 HeightRequest="24"
                                 Clicked="ShowToolTip"
                                 CommandParameter="GoldRangeToolTip" />
                </StackLayout>
                <StackLayout Orientation="Horizontal" VerticalOptions="Center" Spacing="10">
                    <CheckBox x:Name="GoldCheckBox"
                              IsChecked="True"
                              CheckedChanged="OnGoldCheckedChanged" />
                    <Label Text="Enable Gold Range"
                           FontSize="16"
                           TextColor="{DynamicResource TextColor}"
                           VerticalOptions="Center" />
                </StackLayout>
                <StackLayout Orientation="Horizontal" HorizontalOptions="Start" VerticalOptions="Center" Spacing="5" IsEnabled="{Binding Source={x:Reference GoldCheckBox}, Path=IsChecked}">
                    <Label x:Name="lblNumGoldRange"
                           Text="Include between "
                           FontSize="16"
                           TextColor="{DynamicResource TextColor}"
                           VerticalOptions="Center" />
                    <Entry x:Name="MinGoldEntry"
                           Placeholder="Min"
                           TextChanged="OnEntryTextChanged"
                           Keyboard="Numeric"
                           WidthRequest="60"
                           HorizontalTextAlignment="Center" />
                    <Label Text=" and "
                           FontSize="16"
                           TextColor="{DynamicResource TextColor}"
                           VerticalOptions="Center" />
                    <Entry x:Name="MaxGoldEntry"
                           Placeholder="Max"
                           TextChanged="OnEntryTextChanged"
                           Keyboard="Numeric"
                           WidthRequest="60"
                           HorizontalTextAlignment="Center" />
                    <Label x:Name="lblNumGoldRange2"
                           Text=" gold in loot boxes."
                           FontSize="16"
                           TextColor="{DynamicResource TextColor}"
                           VerticalOptions="Center" />
                </StackLayout>
            </StackLayout>
            <StackLayout Padding="10" Spacing="5" Grid.Row="2">
                <StackLayout Orientation="Horizontal" Spacing="10">
                    <Label Text="Magic Item Options"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="{DynamicResource TextColor}" />
                    <ImageButton Source="{AppThemeBinding Light='info_icon_light.png', Dark='info_icon_dark.png'}"
                                 BackgroundColor="Transparent"
                                 WidthRequest="24"
                                 HeightRequest="24"
                                 Clicked="ShowToolTip"
                                 CommandParameter="MagicItemsToolTip" />
                </StackLayout>
                <StackLayout Orientation="Horizontal" VerticalOptions="Center" Spacing="10">
                    <CheckBox x:Name="MagicItemsCheckBox"
                              IsChecked="True"
                              CheckedChanged="OnMagicItemsCheckedChanged" />
                    <Label Text="Enable Magic Items"
                           FontSize="16"
                           TextColor="{DynamicResource TextColor}"
                           VerticalOptions="Center" />
                    <CheckBox x:Name="MagicItemsRangeCheckBox"
                              IsChecked="True"
                              CheckedChanged="OnMagicItemsRangeCheckedChanged" />
                    <Label x:Name="lblMagicItemsRangeCheckBox"
                           Text="Use Range"
                           FontSize="16"
                           TextColor="{DynamicResource TextColor}"
                           VerticalOptions="Center" />
                </StackLayout>
                <StackLayout Orientation="Horizontal" HorizontalOptions="Start" VerticalOptions="Center" Spacing="5" IsEnabled="{Binding Source={x:Reference MagicItemsCheckBox}, Path=IsChecked}">
                    <Label x:Name="lblNumMagicItems"
                           Text="Include "
                           FontSize="16"
                           TextColor="{DynamicResource TextColor}"
                           VerticalOptions="Center" />
                    <Entry x:Name="MagicItemsEntry"
                           Placeholder="Enter number"
                           TextChanged="OnEntryTextChanged"
                           Keyboard="Numeric"
                           WidthRequest="60"
                           HorizontalTextAlignment="Center" />
                    <Label x:Name="lblNumMagicItemsAnd"
                           Text=" and "
                           FontSize="16"
                           TextColor="{DynamicResource TextColor}"
                           VerticalOptions="Center" />
                    <Entry x:Name="MagicItemsEntryMax"
                           Placeholder="Max"
                           TextChanged="OnEntryTextChanged"
                           Keyboard="Numeric"
                           WidthRequest="60"
                           HorizontalTextAlignment="Center"
                           IsVisible="True" />
                    <Label x:Name="lblNumMagicItems2"
                           Text=" magic item(s) in loot boxes."
                           FontSize="16"
                           TextColor="{DynamicResource TextColor}"
                           VerticalOptions="Center" />
                </StackLayout>
                <StackLayout Padding="10" Spacing="5" IsEnabled="{Binding Source={x:Reference MagicItemsCheckBox}, Path=IsChecked}">
                    <Label Text="Include Rarities"
                           FontSize="18"
                           TextColor="{DynamicResource TextColor}" />
                    <StackLayout Orientation="Horizontal" Spacing="10">
                        <CheckBox x:Name="CommonRarityCheckBox"
                                  IsChecked="True"
                                  CheckedChanged="OnRarityCheckedChanged" />
                        <Label x:Name="lblCommonRarityCheckBox"
                               Text="Common"
                               FontSize="16"
                               TextColor="{DynamicResource TextColor}"
                               VerticalOptions="Center" />
                        <CheckBox x:Name="UncommonRarityCheckBox"
                                  IsChecked="True"
                                  CheckedChanged="OnRarityCheckedChanged" />
                        <Label x:Name="lblUncommonRarityCheckBox"
                               Text="Uncommon"
                               FontSize="16"
                               TextColor="{DynamicResource TextColor}"
                               VerticalOptions="Center" />
                        <CheckBox x:Name="RareRarityCheckBox"
                                  IsChecked="True"
                                  CheckedChanged="OnRarityCheckedChanged" />
                        <Label x:Name="lblRareRarityCheckBox"
                               Text="Rare"
                               FontSize="16"
                               TextColor="{DynamicResource TextColor}"
                               VerticalOptions="Center" />
                    </StackLayout>
                    <StackLayout Orientation="Horizontal" Spacing="10">
                        <CheckBox x:Name="VeryRareRarityCheckBox"
                                  IsChecked="True"
                                  CheckedChanged="OnRarityCheckedChanged" />
                        <Label x:Name="lblVeryRareRarityCheckBox"
                               Text="Very Rare"
                               FontSize="16"
                               TextColor="{DynamicResource TextColor}"
                               VerticalOptions="Center" />
                        <CheckBox x:Name="LegendaryRarityCheckBox"
                                  IsChecked="True"
                                  CheckedChanged="OnRarityCheckedChanged" />
                        <Label x:Name="lblLegendaryRarityCheckBox"
                               Text="Legendary"
                               FontSize="16"
                               TextColor="{DynamicResource TextColor}"
                               VerticalOptions="Center" />
                        <CheckBox x:Name="ArtifactRarityCheckBox"
                                  IsChecked="True"
                                  CheckedChanged="OnRarityCheckedChanged" />
                        <Label x:Name="lblArtifactRarityCheckBox"
                               Text="Artifact"
                               FontSize="16"
                               TextColor="{DynamicResource TextColor}"
                               VerticalOptions="Center" />
                    </StackLayout>
                </StackLayout>
            </StackLayout>
            <StackLayout Padding="10" Spacing="5" Grid.Row="3">
                <StackLayout Orientation="Horizontal" Spacing="10">
                    <Label Text="Non-Magic Item Options"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="{DynamicResource TextColor}" />
                    <ImageButton Source="{AppThemeBinding Light='info_icon_light.png', Dark='info_icon_dark.png'}"
                                 BackgroundColor="Transparent"
                                 WidthRequest="24"
                                 HeightRequest="24"
                                 Clicked="ShowToolTip"
                                 CommandParameter="CommonItemsToolTip" />
                </StackLayout>
                <StackLayout Orientation="Horizontal" VerticalOptions="Center" Spacing="10">
                    <CheckBox x:Name="CommonItemsCheckBox"
                              IsChecked="True"
                              CheckedChanged="OnCommonItemsCheckedChanged" />
                    <Label Text="Enable Non-Magic Items"
                           FontSize="16"
                           TextColor="{DynamicResource TextColor}"
                           VerticalOptions="Center" />
                    <CheckBox x:Name="CommonItemsRangeCheckBox"
                              IsChecked="True"
                              CheckedChanged="OnCommonItemsRangeCheckedChanged" />
                    <Label x:Name="lblCommonItemsRangeCheckBox"
                           Text="Use Range"
                           FontSize="16"
                           TextColor="{DynamicResource TextColor}"
                           VerticalOptions="Center" />
                </StackLayout>
                <StackLayout Orientation="Horizontal" HorizontalOptions="Start" VerticalOptions="Center" Spacing="5" IsEnabled="{Binding Source={x:Reference CommonItemsCheckBox}, Path=IsChecked}">
                    <Label x:Name="lblNumCommonItems"
                           Text="Include "
                           FontSize="16"
                           TextColor="{DynamicResource TextColor}"
                           VerticalOptions="Center" />
                    <Entry x:Name="CommonItemsEntry"
                           Placeholder="Enter number"
                           TextChanged="OnEntryTextChanged"
                           Keyboard="Numeric"
                           WidthRequest="60"
                           HorizontalTextAlignment="Center" />
                    <Label x:Name="lblNumCommonItemsAnd"
                           Text=" and "
                           FontSize="16"
                           TextColor="{DynamicResource TextColor}"
                           VerticalOptions="Center" />
                    <Entry x:Name="CommonItemsEntryMax"
                           Placeholder="Max"
                           TextChanged="OnEntryTextChanged"
                           Keyboard="Numeric"
                           WidthRequest="60"
                           HorizontalTextAlignment="Center"
                           IsVisible="True" />
                    <Label x:Name="lblNumCommonItems2"
                           Text=" non-magical item(s) in loot boxes."
                           FontSize="16"
                           TextColor="{DynamicResource TextColor}"
                           VerticalOptions="Center" />
                </StackLayout>
            </StackLayout>
            <StackLayout Padding="10" Spacing="5" Grid.Row="4">
                <StackLayout Orientation="Horizontal" Spacing="10">
                    <Label Text="Update Loot Table"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="{DynamicResource TextColor}" />
                    <ImageButton Source="{AppThemeBinding Light='info_icon_light.png', Dark='info_icon_dark.png'}"
                                 BackgroundColor="Transparent"
                                 WidthRequest="24"
                                 HeightRequest="24"
                                 Clicked="ShowToolTip"
                                 CommandParameter="LootTableToolTip" />
                </StackLayout>
                <StackLayout Orientation="Horizontal" VerticalOptions="Center" Spacing="10">
                    <RadioButton x:Name="MagicItemsReplaceRadioButton"
                                 GroupName="MagicItemsFileMode"
                                 Content="Replace"
                                 IsChecked="True" />
                    <RadioButton x:Name="MagicItemsAddRadioButton"
                                 GroupName="MagicItemsFileMode"
                                 Content="Append" />
                </StackLayout>
                <Button Text="Select Loot Table File"
                        Clicked="OnMagicItemsFilePickerClicked"
                        HorizontalOptions="Start" />
            </StackLayout>
        </Grid>
    </ScrollView>
</ContentPage>
